<!doctype html>
<html>
<head>
	<title>Holiday</title>
	<meta charset="utf-8"/>
	<!-- <script type="text/javascript" src="../d3.js"></script> -->
	<script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
	<script src="calendar.js"></script>
</head>


<body>
<p>hi!</p>

<script type="text/javascript">
var width = 600;
var weekday = "weekday";
var dataset = [ 5, 10, 13, 19, 21, 25, 22, 18, 15, 13,
				11, 12, 15, 20, 18, 17, 16, 18, 23, 25 ];
</script>

<script type="text/javascript">
	const cellSize = 15
	const yearHeight = cellSize * 7 + 25
	const formatDay = d => ["Mo", "Tu", "We", "Th", "Fr", "Sa", "Su"][d.getUTCDay()]
	const countDay = d => d.getUTCDay()
	const timeWeek = d3.utcSunday

	const year = group.selectAll('g')
		.data(years)
		.join('g')
		.attr('transform', (d, i) => `translate(40, ${yearHeight * i + cellSize * 1.5})`)

	year.append('text')
		.attr('x', -5)
		.attr('y', -30)
		.attr("text-anchor", "end")
		.attr('font-size', 16)
		.attr('font-weight', 550)
		.attr('transform', 'rotate(270)')
		.text(d => d.key);

	year.append('g')
		.attr('text-anchor', 'end')
		.selectAll('text')
		.data(d3.range(7).map(i => new Date(1999, 0, i)))
		.join('text')
		.attr('x', -5)
		.attr('y', d => (countDay(d) + 0.5) * cellSize)
		.attr('dy', '0.31em')
		.text(formatDay);

	year.append('g')
		.selectAll('rect')
		.data(d => d.values)
		.join('rect')
		.attr("width", cellSize - 1.5)
		.attr("height", cellSize - 1.5)
		.attr("x", (d, i) => timeWeek.count(d3.utcYear(d.date), d.date) * cellSize + 10)
		.attr("y", d => countDay(d.date) * cellSize + 0.5)


</script>



</body>
</html>